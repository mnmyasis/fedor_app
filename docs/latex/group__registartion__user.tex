\hypertarget{group__registartion__user}{}\doxysection{Создание пользователя}
\label{group__registartion__user}\index{Создание пользователя@{Создание пользователя}}
Collaboration diagram for Создание пользователя\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__registartion__user}
\end{center}
\end{figure}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{group__registartion__user_ga456fb568bf60a5aa43512ab7f422cd19}{user\+\_\+manipulation.\+create\+\_\+user}} (request\+\_\+post)
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{group__registartion__user_ga814a5e8688e4da1e0cf1562092998fc8}{joint\+\_\+system.\+admin\+\_\+joint.\+views.\+show\+\_\+registration\+\_\+page}} (request)
\item 
def \mbox{\hyperlink{group__registartion__user_ga700b7cfc7df7db2d35e9749ab418b023}{joint\+\_\+system.\+admin\+\_\+joint.\+views.\+user\+\_\+registrations}} (request)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}

\begin{DoxyParams}{Parameters}
{\em R\+E\+G\+I\+S\+T\+R\+A\+T\+I\+O\+N\+\_\+\+P\+A\+G\+E\+\_\+\+T\+E\+M\+P\+L\+A\+T\+E\+\_\+\+P\+A\+TH,S\+H\+O\+W\+\_\+\+R\+E\+G\+I\+S\+T\+R\+A\+T\+I\+O\+N\+\_\+\+P\+A\+G\+E\+\_\+\+U\+RL} & Глобальные переменные \\
\hline
\end{DoxyParams}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__registartion__user_ga456fb568bf60a5aa43512ab7f422cd19}\label{group__registartion__user_ga456fb568bf60a5aa43512ab7f422cd19}} 
\index{Создание пользователя@{Создание пользователя}!create\_user@{create\_user}}
\index{create\_user@{create\_user}!Создание пользователя@{Создание пользователя}}
\doxysubsubsection{\texorpdfstring{create\_user()}{create\_user()}}
{\footnotesize\ttfamily def user\+\_\+manipulation.\+create\+\_\+user (\begin{DoxyParamCaption}\item[{}]{request\+\_\+post }\end{DoxyParamCaption})}

\mbox{[}( )\mbox{]}

создает пользователя в БД\begin{DoxyVerb}Создание пользовтеля\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{13 \textcolor{keyword}{def }\mbox{\hyperlink{group__registartion__user_ga456fb568bf60a5aa43512ab7f422cd19}{create\_user}}(request\_post):}
\DoxyCodeLine{14     \textcolor{stringliteral}{"""Создание пользовтеля"""}}
\DoxyCodeLine{15     user\_creation\_form = CustomCreationForm(request\_post)}
\DoxyCodeLine{16     \textcolor{keywordflow}{if} user\_creation\_form.is\_valid():}
\DoxyCodeLine{17         logger.debug(\textcolor{stringliteral}{'Форма регистрации прошла валидность'})}
\DoxyCodeLine{18         user = user\_creation\_form.save()}
\DoxyCodeLine{19         \textcolor{keywordflow}{return} user.id}
\DoxyCodeLine{20     \textcolor{keywordflow}{else}:}
\DoxyCodeLine{21         logger.debug(\textcolor{stringliteral}{'Форма регистрации не прошла проверку на валидность'})}
\DoxyCodeLine{22         \textcolor{keywordflow}{return} \textcolor{keyword}{False}}
\DoxyCodeLine{23 }

\end{DoxyCode}
\mbox{\Hypertarget{group__registartion__user_ga814a5e8688e4da1e0cf1562092998fc8}\label{group__registartion__user_ga814a5e8688e4da1e0cf1562092998fc8}} 
\index{Создание пользователя@{Создание пользователя}!show\_registration\_page@{show\_registration\_page}}
\index{show\_registration\_page@{show\_registration\_page}!Создание пользователя@{Создание пользователя}}
\doxysubsubsection{\texorpdfstring{show\_registration\_page()}{show\_registration\_page()}}
{\footnotesize\ttfamily def joint\+\_\+system.\+admin\+\_\+joint.\+views.\+show\+\_\+registration\+\_\+page (\begin{DoxyParamCaption}\item[{}]{request }\end{DoxyParamCaption})}

Рендер интерфейса регистрации пользовтеля 
\begin{DoxyParams}{Parameters}
{\em request.\+session} & в сессии с ключом \char`\"{}error\char`\"{} передаются ошибки \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{34 \textcolor{keyword}{def }\mbox{\hyperlink{group__registartion__user_ga814a5e8688e4da1e0cf1562092998fc8}{show\_registration\_page}}(request):}
\DoxyCodeLine{35     result = \{\textcolor{stringliteral}{'error'}: request.session.get(\textcolor{stringliteral}{'error'})\}}
\DoxyCodeLine{36     \textcolor{keywordflow}{return} render(request, REGISTRATION\_PAGE\_TEMPLATE\_PATH, result)}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 }

\end{DoxyCode}
\mbox{\Hypertarget{group__registartion__user_ga700b7cfc7df7db2d35e9749ab418b023}\label{group__registartion__user_ga700b7cfc7df7db2d35e9749ab418b023}} 
\index{Создание пользователя@{Создание пользователя}!user\_registrations@{user\_registrations}}
\index{user\_registrations@{user\_registrations}!Создание пользователя@{Создание пользователя}}
\doxysubsubsection{\texorpdfstring{user\_registrations()}{user\_registrations()}}
{\footnotesize\ttfamily def joint\+\_\+system.\+admin\+\_\+joint.\+views.\+user\+\_\+registrations (\begin{DoxyParamCaption}\item[{}]{request }\end{DoxyParamCaption})}

Принимает P\+O\+ST запрос регистрации пользователя\begin{DoxyVerb}Регистрация пользователя\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{41 \textcolor{keyword}{def }\mbox{\hyperlink{group__registartion__user_ga700b7cfc7df7db2d35e9749ab418b023}{user\_registrations}}(request):}
\DoxyCodeLine{42     \textcolor{stringliteral}{"""Регистрация пользователя"""}}
\DoxyCodeLine{43     user\_id = \mbox{\hyperlink{group__registartion__user_ga456fb568bf60a5aa43512ab7f422cd19}{user\_manipulation.create\_user}}(request.POST)}
\DoxyCodeLine{44     \textcolor{keywordflow}{if} user\_id:}
\DoxyCodeLine{45         logger.debug(\textcolor{stringliteral}{'Пользователь успешно создан'})}
\DoxyCodeLine{46         \textcolor{keywordflow}{return} HttpResponseRedirect(}
\DoxyCodeLine{47             reverse(SHOW\_UPDATE\_USER\_PROFILE\_PAGE\_URL,}
\DoxyCodeLine{48                     kwargs=\{\textcolor{stringliteral}{'user\_id'}: user\_id\})}
\DoxyCodeLine{49         )}
\DoxyCodeLine{50     request.session[\textcolor{stringliteral}{'error'}] = \textcolor{stringliteral}{'Вы ввели невалидный пароль!'}}
\DoxyCodeLine{51     logger.debug(\textcolor{stringliteral}{'Не удалось создать пользователя'})}
\DoxyCodeLine{52     \textcolor{keywordflow}{return} HttpResponseRedirect(}
\DoxyCodeLine{53         reverse(SHOW\_REGISTRATION\_PAGE\_URL)}
\DoxyCodeLine{54     )}
\DoxyCodeLine{55 }

\end{DoxyCode}
